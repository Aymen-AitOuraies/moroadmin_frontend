{"ast":null,"code":"var _jsxFileName = \"/goinfre/aait-our/moroadmin_frontend/src/AdminProducts.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AdminProducts({\n  token,\n  onLogout\n}) {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [newProduct, setNewProduct] = useState({\n    title: \"\",\n    description: \"\",\n    price: \"\",\n    product_type: \"TOTEBAG\",\n    available_sizes: \"\",\n    images: []\n  });\n  const [previewImages, setPreviewImages] = useState([]);\n  const [editingProduct, setEditingProduct] = useState(null);\n  const [removedImageIds, setRemovedImageIds] = useState([]);\n  const [imageColors, setImageColors] = useState({});\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [productToDelete, setProductToDelete] = useState(null);\n  // New state for description modal\n  const [showDescriptionModal, setShowDescriptionModal] = useState(false);\n  const [currentDescription, setCurrentDescription] = useState(\"\");\n  const fetchProducts = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      const response = await fetch(\"https://aymen88.pythonanywhere.com/api/products/\", {\n        headers: {\n          Authorization: `Token ${token}`\n        }\n      });\n      const data = await response.json();\n      if (response.ok) {\n        const productsWithImageIndex = data.map(product => ({\n          ...product,\n          currentImageIndex: 0\n        }));\n        setProducts(productsWithImageIndex);\n      } else {\n        setError(data.detail || \"Failed to fetch products.\");\n      }\n    } catch (err) {\n      setError(\"Network error or server unavailable.\");\n      console.error(\"Error fetching products:\", err);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [token]);\n  useEffect(() => {\n    fetchProducts();\n  }, [fetchProducts]);\n  useEffect(() => {\n    return () => {\n      previewImages.forEach(url => {\n        if (url.startsWith(\"blob:\")) {\n          URL.revokeObjectURL(url);\n        }\n      });\n    };\n  }, [previewImages]);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setNewProduct(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleFileChange = e => {\n    const files = Array.from(e.target.files);\n    setNewProduct(prev => ({\n      ...prev,\n      images: [...prev.images, ...files]\n    }));\n    const newPreviews = files.map(file => URL.createObjectURL(file));\n    setPreviewImages(prev => [...prev, ...newPreviews]);\n  };\n  const handleRemovePreviewImage = indexToRemove => {\n    if (editingProduct && previewImages[indexToRemove] && !previewImages[indexToRemove].startsWith(\"blob:\")) {\n      const uploadedImage = editingProduct.images.find(img => img.image === previewImages[indexToRemove]);\n      if (uploadedImage) {\n        setRemovedImageIds(prev => [...prev, uploadedImage.id]);\n      }\n    }\n    setPreviewImages(prev => prev.filter((_, index) => index !== indexToRemove));\n    setNewProduct(prev => ({\n      ...prev,\n      images: prev.images.filter((_, index) => index !== indexToRemove)\n    }));\n    setImageColors(prev => {\n      const newColors = {};\n      let newIndex = 0;\n      const currentColorsArray = Object.entries(prev).map(([key, value]) => ({\n        index: parseInt(key),\n        color: value\n      }));\n      currentColorsArray.forEach(item => {\n        if (item.index !== indexToRemove) {\n          newColors[newIndex] = item.color;\n          newIndex++;\n        }\n      });\n      return newColors;\n    });\n  };\n  const handleImageColorChange = (index, color) => {\n    setImageColors(prev => ({\n      ...prev,\n      [index]: color\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(\"\");\n    setIsLoading(true);\n    const formData = new FormData();\n    formData.append(\"title\", newProduct.title);\n    formData.append(\"description\", newProduct.description);\n    formData.append(\"price\", newProduct.price);\n    formData.append(\"product_type\", newProduct.product_type);\n    if (newProduct.product_type === \"TSHIRT\") {\n      formData.append(\"available_sizes\", newProduct.available_sizes);\n    } else {\n      formData.append(\"available_sizes\", \"\");\n    }\n    newProduct.images.forEach(image => {\n      formData.append(\"uploaded_images\", image);\n    });\n    if (editingProduct) {\n      const finalImageColorsArray = [];\n      previewImages.forEach((url, idx) => {\n        let isRemovedExistingImage = false;\n        if (!url.startsWith(\"blob:\")) {\n          const uploadedImage = editingProduct.images.find(img => img.image === url);\n          if (uploadedImage && removedImageIds.includes(uploadedImage.id)) {\n            isRemovedExistingImage = true;\n          }\n        }\n        if (!isRemovedExistingImage) {\n          finalImageColorsArray.push(imageColors[idx] || \"\");\n        }\n      });\n      finalImageColorsArray.forEach(color => {\n        formData.append(\"image_colors\", color);\n      });\n    } else {\n      newProduct.images.forEach((_, i) => {\n        formData.append(\"image_colors\", imageColors[i] || \"\");\n      });\n    }\n    const url = editingProduct ? `https://aymen88.pythonanywhere.com/api/products/${editingProduct.id}/` : \"https://aymen88.pythonanywhere.com/api/products/\";\n    const method = editingProduct ? \"PUT\" : \"POST\";\n    try {\n      const response = await fetch(url, {\n        method: method,\n        headers: {\n          Authorization: `Token ${token}`\n        },\n        body: formData\n      });\n      if (response.ok) {\n        setNewProduct({\n          title: \"\",\n          description: \"\",\n          price: \"\",\n          product_type: \"TOTEBAG\",\n          available_sizes: \"\",\n          images: []\n        });\n        setPreviewImages([]);\n        setEditingProduct(null);\n        setRemovedImageIds([]);\n        setImageColors({});\n        fetchProducts();\n      } else {\n        const errorData = await response.json();\n        setError(errorData.detail || JSON.stringify(errorData));\n      }\n    } catch (err) {\n      setError(\"Network error or server unavailable.\");\n      console.error(\"Error submitting product:\", err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleEdit = product => {\n    setEditingProduct(product);\n    setNewProduct({\n      title: product.title,\n      description: product.description,\n      price: product.price,\n      product_type: product.product_type,\n      available_sizes: product.available_sizes || \"\",\n      images: []\n    });\n    const existingImagePreviews = product.images.map(img => img.image);\n    setPreviewImages(existingImagePreviews);\n    const existingImageColors = {};\n    product.images.forEach((img, index) => {\n      existingImageColors[index] = img.color || \"\";\n    });\n    setImageColors(existingImageColors);\n    setRemovedImageIds([]);\n  };\n  const handleDelete = async productId => {\n    setShowDeleteModal(false);\n    setIsLoading(true);\n    try {\n      const response = await fetch(`https://aymen88.pythonanywhere.com/api/products/${productId}/`, {\n        method: \"DELETE\",\n        headers: {\n          Authorization: `Token ${token}`\n        }\n      });\n      if (response.ok) {\n        fetchProducts();\n      } else {\n        const errorData = await response.json();\n        setError(errorData.detail || \"Failed to delete product.\");\n      }\n    } catch (err) {\n      setError(\"Network error or server unavailable.\");\n      console.error(\"Error deleting product:\", err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handlePrevImage = productId => {\n    setProducts(prevProducts => prevProducts.map(product => product.id === productId ? {\n      ...product,\n      currentImageIndex: (product.currentImageIndex - 1 + product.images.length) % product.images.length\n    } : product));\n  };\n  const handleNextImage = productId => {\n    setProducts(prevProducts => prevProducts.map(product => product.id === productId ? {\n      ...product,\n      currentImageIndex: (product.currentImageIndex + 1) % product.images.length\n    } : product));\n  };\n\n  // Function to open description modal\n  const openDescriptionModal = description => {\n    setCurrentDescription(description);\n    setShowDescriptionModal(true);\n  };\n\n  // Function to close description modal\n  const closeDescriptionModal = () => {\n    setShowDescriptionModal(false);\n    setCurrentDescription(\"\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-products\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onLogout,\n      className: \"logout-button\",\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: editingProduct ? \"Edit Product\" : \"Add New Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"product-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"title\",\n          children: \"Title:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"title\",\n          name: \"title\",\n          value: newProduct.title,\n          onChange: handleInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"description\",\n          children: \"Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"description\",\n          name: \"description\",\n          value: newProduct.description,\n          onChange: handleInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"price\",\n          children: \"Price:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          id: \"price\",\n          name: \"price\",\n          value: newProduct.price,\n          onChange: handleInputChange,\n          required: true,\n          step: \"0.01\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"product_type\",\n          children: \"Product Type:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"product_type\",\n          name: \"product_type\",\n          value: newProduct.product_type,\n          onChange: handleInputChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"TOTEBAG\",\n            children: \"Totebag\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"TSHIRT\",\n            children: \"T-Shirt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this), newProduct.product_type === \"TSHIRT\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"available_sizes\",\n          children: \"Available Sizes (comma-separated, e.g., S,M,L,XL):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"available_sizes\",\n          name: \"available_sizes\",\n          value: newProduct.available_sizes,\n          onChange: handleInputChange,\n          placeholder: \"e.g., S,M,L,XL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"images\",\n          children: \"Product Images:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          id: \"images\",\n          name: \"images\",\n          multiple: true,\n          onChange: handleFileChange,\n          accept: \"image/*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image-previews\",\n          children: previewImages.map((url, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"preview-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: url,\n              alt: `Preview ${index}`,\n              className: \"preview-thumbnail\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: imageColors[index] || \"\",\n              onChange: e => handleImageColorChange(index, e.target.value),\n              className: \"image-color-selector\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select Color\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"WHITE\",\n                children: \"White\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"BLACK\",\n                children: \"Black\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"RED\",\n                children: \"Red\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"BLUE\",\n                children: \"Blue\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"GREEN\",\n                children: \"Green\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"YELLOW\",\n                children: \"Yellow\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => handleRemovePreviewImage(index),\n              className: \"remove-preview-btn\",\n              children: \"X\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"add-btn\",\n        type: \"submit\",\n        disabled: isLoading,\n        children: isLoading ? \"Saving...\" : editingProduct ? \"Update Product\" : \"Add Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }, this), editingProduct && /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => {\n          setEditingProduct(null);\n          setNewProduct({\n            title: \"\",\n            description: \"\",\n            price: \"\",\n            product_type: \"TOTEBAG\",\n            available_sizes: \"\",\n            images: []\n          });\n          setPreviewImages([]);\n          setRemovedImageIds([]);\n          setImageColors({});\n        },\n        className: \"cancel-edit-btn\",\n        children: \"Cancel Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Existing Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 9\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading products...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 23\n      }, this), products.length === 0 && !isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No products added yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 49\n      }, this), !isLoading && products.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"products-grid\",\n        children: products.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-image-container\",\n            children: product.images && product.images.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: product.images[product.currentImageIndex].image,\n                alt: `${product.title} - ${product.currentImageIndex + 1}`,\n                className: \"product-thumbnail\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 23\n              }, this), product.images.length > 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"image-nav-arrow left-arrow\",\n                  onClick: () => handlePrevImage(product.id),\n                  children: \"\\u276E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"image-nav-arrow right-arrow\",\n                  onClick: () => handleNextImage(product.id),\n                  children: \"\\u276F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 471,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"no-image-placeholder\",\n              children: \"No images\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: product.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"description-btn\",\n              onClick: () => openDescriptionModal(product.description),\n              children: \"View Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"product-price\",\n              children: [\"$\", product.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 19\n            }, this), product.product_type === \"TSHIRT\" && product.available_sizes && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"product-sizes\",\n              children: [\"Sizes: \", product.available_sizes]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleEdit(product),\n              className: \"edit-btn\",\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setProductToDelete(product.id);\n                setShowDeleteModal(true);\n              },\n              className: \"delete-btn\",\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 17\n          }, this)]\n        }, product.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 7\n    }, this), showDeleteModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: \"Confirm Deletion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: \"Are you sure you want to delete this product? This action cannot be undone.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-btn modal-btn-cancel\",\n            onClick: () => setShowDeleteModal(false),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 532,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-btn modal-btn-confirm\",\n            onClick: () => handleDelete(productToDelete),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 524,\n      columnNumber: 9\n    }, this), showDescriptionModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: \"Product Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: currentDescription\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-btn modal-btn-cancel\",\n            onClick: closeDescriptionModal,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 551,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 303,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminProducts, \"WFK+A7m1pJvL49UubamFZqTPG9U=\");\n_c = AdminProducts;\nexport default AdminProducts;\nvar _c;\n$RefreshReg$(_c, \"AdminProducts\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","jsxDEV","_jsxDEV","Fragment","_Fragment","AdminProducts","token","onLogout","_s","products","setProducts","isLoading","setIsLoading","error","setError","newProduct","setNewProduct","title","description","price","product_type","available_sizes","images","previewImages","setPreviewImages","editingProduct","setEditingProduct","removedImageIds","setRemovedImageIds","imageColors","setImageColors","showDeleteModal","setShowDeleteModal","productToDelete","setProductToDelete","showDescriptionModal","setShowDescriptionModal","currentDescription","setCurrentDescription","fetchProducts","response","fetch","headers","Authorization","data","json","ok","productsWithImageIndex","map","product","currentImageIndex","detail","err","console","forEach","url","startsWith","URL","revokeObjectURL","handleInputChange","e","name","value","target","prev","handleFileChange","files","Array","from","newPreviews","file","createObjectURL","handleRemovePreviewImage","indexToRemove","uploadedImage","find","img","image","id","filter","_","index","newColors","newIndex","currentColorsArray","Object","entries","key","parseInt","color","item","handleImageColorChange","handleSubmit","preventDefault","formData","FormData","append","finalImageColorsArray","idx","isRemovedExistingImage","includes","push","i","method","body","errorData","JSON","stringify","handleEdit","existingImagePreviews","existingImageColors","handleDelete","productId","handlePrevImage","prevProducts","length","handleNextImage","openDescriptionModal","closeDescriptionModal","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","onChange","required","step","placeholder","multiple","accept","src","alt","disabled","_c","$RefreshReg$"],"sources":["/goinfre/aait-our/moroadmin_frontend/src/AdminProducts.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\n\nfunction AdminProducts({ token, onLogout }) {\n  const [products, setProducts] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [newProduct, setNewProduct] = useState({\n    title: \"\",\n    description: \"\",\n    price: \"\",\n    product_type: \"TOTEBAG\",\n    available_sizes: \"\",\n    images: [],\n  });\n  const [previewImages, setPreviewImages] = useState([]);\n  const [editingProduct, setEditingProduct] = useState(null);\n  const [removedImageIds, setRemovedImageIds] = useState([]);\n  const [imageColors, setImageColors] = useState({});\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [productToDelete, setProductToDelete] = useState(null);\n  // New state for description modal\n  const [showDescriptionModal, setShowDescriptionModal] = useState(false);\n  const [currentDescription, setCurrentDescription] = useState(\"\");\n\n  const fetchProducts = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      const response = await fetch(\n        \"https://aymen88.pythonanywhere.com/api/products/\",\n        {\n          headers: {\n            Authorization: `Token ${token}`,\n          },\n        }\n      );\n      const data = await response.json();\n      if (response.ok) {\n        const productsWithImageIndex = data.map(product => ({\n          ...product,\n          currentImageIndex: 0\n        }));\n        setProducts(productsWithImageIndex);\n      } else {\n        setError(data.detail || \"Failed to fetch products.\");\n      }\n    } catch (err) {\n      setError(\"Network error or server unavailable.\");\n      console.error(\"Error fetching products:\", err);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [token]);\n\n  useEffect(() => {\n    fetchProducts();\n  }, [fetchProducts]);\n\n  useEffect(() => {\n    return () => {\n      previewImages.forEach((url) => {\n        if (url.startsWith(\"blob:\")) {\n          URL.revokeObjectURL(url);\n        }\n      });\n    };\n  }, [previewImages]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setNewProduct((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const handleFileChange = (e) => {\n    const files = Array.from(e.target.files);\n    setNewProduct((prev) => ({ ...prev, images: [...prev.images, ...files] }));\n\n    const newPreviews = files.map((file) => URL.createObjectURL(file));\n    setPreviewImages((prev) => [...prev, ...newPreviews]);\n  };\n\n  const handleRemovePreviewImage = (indexToRemove) => {\n    if (\n      editingProduct &&\n      previewImages[indexToRemove] &&\n      !previewImages[indexToRemove].startsWith(\"blob:\")\n    ) {\n      const uploadedImage = editingProduct.images.find(\n        (img) => img.image === previewImages[indexToRemove]\n      );\n      if (uploadedImage) {\n        setRemovedImageIds((prev) => [...prev, uploadedImage.id]);\n      }\n    }\n\n    setPreviewImages((prev) =>\n      prev.filter((_, index) => index !== indexToRemove)\n    );\n    setNewProduct((prev) => ({\n      ...prev,\n      images: prev.images.filter((_, index) => index !== indexToRemove),\n    }));\n\n    setImageColors((prev) => {\n      const newColors = {};\n      let newIndex = 0;\n      const currentColorsArray = Object.entries(prev).map(([key, value]) => ({ index: parseInt(key), color: value }));\n\n      currentColorsArray.forEach((item) => {\n        if (item.index !== indexToRemove) {\n          newColors[newIndex] = item.color;\n          newIndex++;\n        }\n      });\n      return newColors;\n    });\n  };\n\n  const handleImageColorChange = (index, color) => {\n    setImageColors((prev) => ({\n      ...prev,\n      [index]: color,\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n    setIsLoading(true);\n\n    const formData = new FormData();\n    formData.append(\"title\", newProduct.title);\n    formData.append(\"description\", newProduct.description);\n    formData.append(\"price\", newProduct.price);\n    formData.append(\"product_type\", newProduct.product_type);\n\n    if (newProduct.product_type === \"TSHIRT\") {\n      formData.append(\"available_sizes\", newProduct.available_sizes);\n    } else {\n      formData.append(\"available_sizes\", \"\");\n    }\n\n    newProduct.images.forEach((image) => {\n      formData.append(\"uploaded_images\", image);\n    });\n\n    if (editingProduct) {\n      const finalImageColorsArray = [];\n      previewImages.forEach((url, idx) => {\n        let isRemovedExistingImage = false;\n        if (!url.startsWith(\"blob:\")) {\n          const uploadedImage = editingProduct.images.find(img => img.image === url);\n          if (uploadedImage && removedImageIds.includes(uploadedImage.id)) {\n            isRemovedExistingImage = true;\n          }\n        }\n        if (!isRemovedExistingImage) {\n          finalImageColorsArray.push(imageColors[idx] || \"\");\n        }\n      });\n      finalImageColorsArray.forEach(color => {\n        formData.append(\"image_colors\", color);\n      });\n    } else {\n      newProduct.images.forEach((_, i) => {\n        formData.append(\"image_colors\", imageColors[i] || \"\");\n      });\n    }\n\n\n    const url = editingProduct\n      ? `https://aymen88.pythonanywhere.com/api/products/${editingProduct.id}/`\n      : \"https://aymen88.pythonanywhere.com/api/products/\";\n    const method = editingProduct ? \"PUT\" : \"POST\";\n\n    try {\n      const response = await fetch(url, {\n        method: method,\n        headers: {\n          Authorization: `Token ${token}`,\n        },\n        body: formData,\n      });\n\n      if (response.ok) {\n        setNewProduct({\n          title: \"\",\n          description: \"\",\n          price: \"\",\n          product_type: \"TOTEBAG\",\n          available_sizes: \"\",\n          images: [],\n        });\n        setPreviewImages([]);\n        setEditingProduct(null);\n        setRemovedImageIds([]);\n        setImageColors({});\n        fetchProducts();\n      } else {\n        const errorData = await response.json();\n        setError(errorData.detail || JSON.stringify(errorData));\n      }\n    } catch (err) {\n      setError(\"Network error or server unavailable.\");\n      console.error(\"Error submitting product:\", err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleEdit = (product) => {\n    setEditingProduct(product);\n    setNewProduct({\n      title: product.title,\n      description: product.description,\n      price: product.price,\n      product_type: product.product_type,\n      available_sizes: product.available_sizes || \"\",\n      images: [],\n    });\n\n    const existingImagePreviews = product.images.map((img) => img.image);\n    setPreviewImages(existingImagePreviews);\n\n    const existingImageColors = {};\n    product.images.forEach((img, index) => {\n      existingImageColors[index] = img.color || \"\";\n    });\n    setImageColors(existingImageColors);\n    setRemovedImageIds([]);\n  };\n\n  const handleDelete = async (productId) => {\n    setShowDeleteModal(false);\n    setIsLoading(true);\n    try {\n      const response = await fetch(\n        `https://aymen88.pythonanywhere.com/api/products/${productId}/`,\n        {\n          method: \"DELETE\",\n          headers: {\n            Authorization: `Token ${token}`,\n          },\n        }\n      );\n\n      if (response.ok) {\n        fetchProducts();\n      } else {\n        const errorData = await response.json();\n        setError(errorData.detail || \"Failed to delete product.\");\n      }\n    } catch (err) {\n      setError(\"Network error or server unavailable.\");\n      console.error(\"Error deleting product:\", err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handlePrevImage = (productId) => {\n    setProducts(prevProducts =>\n      prevProducts.map(product =>\n        product.id === productId\n          ? {\n              ...product,\n              currentImageIndex:\n                (product.currentImageIndex - 1 + product.images.length) %\n                product.images.length,\n            }\n          : product\n      )\n    );\n  };\n\n  const handleNextImage = (productId) => {\n    setProducts(prevProducts =>\n      prevProducts.map(product =>\n        product.id === productId\n          ? {\n              ...product,\n              currentImageIndex:\n                (product.currentImageIndex + 1) % product.images.length,\n            }\n          : product\n      )\n    );\n  };\n\n  // Function to open description modal\n  const openDescriptionModal = (description) => {\n    setCurrentDescription(description);\n    setShowDescriptionModal(true);\n  };\n\n  // Function to close description modal\n  const closeDescriptionModal = () => {\n    setShowDescriptionModal(false);\n    setCurrentDescription(\"\");\n  };\n\n\n  return (\n    <div className=\"admin-products\">\n      <button onClick={onLogout} className=\"logout-button\">\n        Logout\n      </button>\n      <h2>{editingProduct ? \"Edit Product\" : \"Add New Product\"}</h2>\n      {error && <div className=\"error-message\">{error}</div>}\n      <form onSubmit={handleSubmit} className=\"product-form\">\n        <div className=\"form-group\">\n          <label htmlFor=\"title\">Title:</label>\n          <input\n            type=\"text\"\n            id=\"title\"\n            name=\"title\"\n            value={newProduct.title}\n            onChange={handleInputChange}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"description\">Description:</label>\n          <textarea\n            id=\"description\"\n            name=\"description\"\n            value={newProduct.description}\n            onChange={handleInputChange}\n            required\n          ></textarea>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"price\">Price:</label>\n          <input\n            type=\"number\"\n            id=\"price\"\n            name=\"price\"\n            value={newProduct.price}\n            onChange={handleInputChange}\n            required\n            step=\"0.01\"\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"product_type\">Product Type:</label>\n          <select\n            id=\"product_type\"\n            name=\"product_type\"\n            value={newProduct.product_type}\n            onChange={handleInputChange}\n          >\n            <option value=\"TOTEBAG\">Totebag</option>\n            <option value=\"TSHIRT\">T-Shirt</option>\n          </select>\n        </div>\n\n        {newProduct.product_type === \"TSHIRT\" && (\n          <div className=\"form-group\">\n            <label htmlFor=\"available_sizes\">\n              Available Sizes (comma-separated, e.g., S,M,L,XL):\n            </label>\n            <input\n              type=\"text\"\n              id=\"available_sizes\"\n              name=\"available_sizes\"\n              value={newProduct.available_sizes}\n              onChange={handleInputChange}\n              placeholder=\"e.g., S,M,L,XL\"\n            />\n          </div>\n        )}\n\n        <div className=\"form-group\">\n          <label htmlFor=\"images\">Product Images:</label>\n          <input\n            type=\"file\"\n            id=\"images\"\n            name=\"images\"\n            multiple\n            onChange={handleFileChange}\n            accept=\"image/*\"\n          />\n          <div className=\"image-previews\">\n            {previewImages.map((url, index) => (\n              <div key={index} className=\"preview-container\">\n                <img\n                  src={url}\n                  alt={`Preview ${index}`}\n                  className=\"preview-thumbnail\"\n                />\n                <select\n                  value={imageColors[index] || \"\"}\n                  onChange={(e) =>\n                    handleImageColorChange(index, e.target.value)\n                  }\n                  className=\"image-color-selector\"\n                >\n                  <option value=\"\">Select Color</option>\n                  <option value=\"WHITE\">White</option>\n                  <option value=\"BLACK\">Black</option>\n                  <option value=\"RED\">Red</option>\n                  <option value=\"BLUE\">Blue</option>\n                  <option value=\"GREEN\">Green</option>\n                  <option value=\"YELLOW\">Yellow</option>\n                </select>\n                <button\n                  type=\"button\"\n                  onClick={() => handleRemovePreviewImage(index)}\n                  className=\"remove-preview-btn\"\n                >\n                  X\n                </button>\n              </div>\n            ))}\n          </div>\n        </div>\n        <button className=\"add-btn\" type=\"submit\" disabled={isLoading}>\n          {isLoading\n            ? \"Saving...\"\n            : editingProduct\n            ? \"Update Product\"\n            : \"Add Product\"}\n        </button>\n        {editingProduct && (\n          <button\n            type=\"button\"\n            onClick={() => {\n              setEditingProduct(null);\n              setNewProduct({\n                title: \"\",\n                description: \"\",\n                price: \"\",\n                product_type: \"TOTEBAG\",\n                available_sizes: \"\",\n                images: [],\n              });\n              setPreviewImages([]);\n              setRemovedImageIds([]);\n              setImageColors({});\n            }}\n            className=\"cancel-edit-btn\"\n          >\n            Cancel Edit\n          </button>\n        )}\n      </form>\n\n      <div className=\"product-list\">\n        <h3>Existing Products</h3>\n        {isLoading && <p>Loading products...</p>}\n        {products.length === 0 && !isLoading && <p>No products added yet.</p>}\n        {!isLoading && products.length > 0 && (\n          <div className=\"products-grid\">\n            {products.map((product) => (\n              <div key={product.id} className=\"product-card\">\n                <div className=\"product-image-container\">\n                  {product.images && product.images.length > 0 ? (\n                    <>\n                      <img\n                        src={product.images[product.currentImageIndex].image}\n                        alt={`${product.title} - ${product.currentImageIndex + 1}`}\n                        className=\"product-thumbnail\"\n                      />\n                      {product.images.length > 1 && (\n                        <>\n                          <button\n                            className=\"image-nav-arrow left-arrow\"\n                            onClick={() => handlePrevImage(product.id)}\n                          >\n                            &#10094;\n                          </button>\n                          <button\n                            className=\"image-nav-arrow right-arrow\"\n                            onClick={() => handleNextImage(product.id)}\n                          >\n                            &#10095;\n                          </button>\n                        </>\n                      )}\n                    </>\n                  ) : (\n                    <div className=\"no-image-placeholder\">No images</div>\n                  )}\n                </div>\n                <div className=\"product-info\">\n                  <h4>{product.title}</h4>\n                  {/* Replaced description paragraph with a button */}\n                  <button\n                    className=\"description-btn\"\n                    onClick={() => openDescriptionModal(product.description)}\n                  >\n                    View Description\n                  </button>\n                  <p className=\"product-price\">${product.price}</p>\n                  {product.product_type === \"TSHIRT\" &&\n                    product.available_sizes && (\n                      <p className=\"product-sizes\">\n                        Sizes: {product.available_sizes}\n                      </p>\n                    )}\n                </div>\n                <div className=\"product-actions\">\n                  <button\n                    onClick={() => handleEdit(product)}\n                    className=\"edit-btn\"\n                  >\n                    Edit\n                  </button>\n                  <button\n                    onClick={() => {\n                      setProductToDelete(product.id);\n                      setShowDeleteModal(true);\n                    }}\n                    className=\"delete-btn\"\n                  >\n                    Delete\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n      {showDeleteModal && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">Confirm Deletion</div>\n            <div className=\"modal-body\">\n              Are you sure you want to delete this product? This action cannot\n              be undone.\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"modal-btn modal-btn-cancel\"\n                onClick={() => setShowDeleteModal(false)}\n              >\n                Cancel\n              </button>\n              <button\n                className=\"modal-btn modal-btn-confirm\"\n                onClick={() => handleDelete(productToDelete)}\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* New Description Modal */}\n      {showDescriptionModal && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">Product Description</div>\n            <div className=\"modal-body\">\n              <p>{currentDescription}</p>\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"modal-btn modal-btn-cancel\"\n                onClick={closeDescriptionModal}\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default AdminProducts;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}