{"ast":null,"code":"var _jsxFileName = \"/goinfre/aait-our/moroadmin_frontend/src/AdminProducts.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AdminProducts({\n  token,\n  onLogout\n}) {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [newProduct, setNewProduct] = useState({\n    title: \"\",\n    description: \"\",\n    price: \"\",\n    product_type: \"TOTEBAG\",\n    available_sizes: \"\",\n    images: []\n  });\n  const [previewImages, setPreviewImages] = useState([]);\n  const [editingProduct, setEditingProduct] = useState(null);\n  const [removedImageIds, setRemovedImageIds] = useState([]);\n  const [imageColors, setImageColors] = useState({});\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [productToDelete, setProductToDelete] = useState(null);\n  const fetchProducts = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      const response = await fetch(\"https://aymen88.pythonanywhere.com/api/products/\", {\n        headers: {\n          Authorization: `Token ${token}`\n        }\n      });\n      const data = await response.json();\n      if (response.ok) {\n        const productsWithImageIndex = data.map(product => ({\n          ...product,\n          currentImageIndex: 0\n        }));\n        setProducts(productsWithImageIndex);\n      } else {\n        setError(data.detail || \"Failed to fetch products.\");\n      }\n    } catch (err) {\n      setError(\"Network error or server unavailable.\");\n      console.error(\"Error fetching products:\", err);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [token]);\n  useEffect(() => {\n    fetchProducts();\n  }, [fetchProducts]);\n  useEffect(() => {\n    return () => {\n      previewImages.forEach(url => {\n        if (url.startsWith(\"blob:\")) {\n          URL.revokeObjectURL(url);\n        }\n      });\n    };\n  }, [previewImages]);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setNewProduct(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleFileChange = e => {\n    const files = Array.from(e.target.files);\n    setNewProduct(prev => ({\n      ...prev,\n      images: [...prev.images, ...files]\n    }));\n    const newPreviews = files.map(file => URL.createObjectURL(file));\n    setPreviewImages(prev => [...prev, ...newPreviews]);\n  };\n  const handleRemovePreviewImage = indexToRemove => {\n    if (editingProduct && previewImages[indexToRemove] && !previewImages[indexToRemove].startsWith(\"blob:\")) {\n      const uploadedImage = editingProduct.images.find(img => img.image === previewImages[indexToRemove]);\n      if (uploadedImage) {\n        setRemovedImageIds(prev => [...prev, uploadedImage.id]);\n      }\n    }\n    setPreviewImages(prev => prev.filter((_, index) => index !== indexToRemove));\n    setNewProduct(prev => ({\n      ...prev,\n      images: prev.images.filter((_, index) => index !== indexToRemove)\n    }));\n    setImageColors(prev => {\n      const newColors = {};\n      let newIndex = 0;\n      const currentColorsArray = Object.entries(prev).map(([key, value]) => ({\n        index: parseInt(key),\n        color: value\n      }));\n      currentColorsArray.forEach(item => {\n        if (item.index !== indexToRemove) {\n          newColors[newIndex] = item.color;\n          newIndex++;\n        }\n      });\n      return newColors;\n    });\n  };\n  const handleImageColorChange = (index, color) => {\n    setImageColors(prev => ({\n      ...prev,\n      [index]: color\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(\"\");\n    setIsLoading(true);\n    const formData = new FormData();\n    formData.append(\"title\", newProduct.title);\n    formData.append(\"description\", newProduct.description);\n    formData.append(\"price\", newProduct.price);\n    formData.append(\"product_type\", newProduct.product_type);\n    if (newProduct.product_type === \"TSHIRT\") {\n      formData.append(\"available_sizes\", newProduct.available_sizes);\n    } else {\n      formData.append(\"available_sizes\", \"\");\n    }\n    newProduct.images.forEach(image => {\n      formData.append(\"uploaded_images\", image);\n    });\n    if (editingProduct) {\n      const finalImageColorsArray = [];\n      previewImages.forEach((url, idx) => {\n        let isRemovedExistingImage = false;\n        if (!url.startsWith(\"blob:\")) {\n          const uploadedImage = editingProduct.images.find(img => img.image === url);\n          if (uploadedImage && removedImageIds.includes(uploadedImage.id)) {\n            isRemovedExistingImage = true;\n          }\n        }\n        if (!isRemovedExistingImage) {\n          finalImageColorsArray.push(imageColors[idx] || \"\");\n        }\n      });\n      finalImageColorsArray.forEach(color => {\n        formData.append(\"image_colors\", color);\n      });\n    } else {\n      newProduct.images.forEach((_, i) => {\n        formData.append(\"image_colors\", imageColors[i] || \"\");\n      });\n    }\n    const url = editingProduct ? `https://aymen88.pythonanywhere.com/api/products/${editingProduct.id}/` : \"https://aymen88.pythonanywhere.com/api/products/\";\n    const method = editingProduct ? \"PUT\" : \"POST\";\n    try {\n      const response = await fetch(url, {\n        method: method,\n        headers: {\n          Authorization: `Token ${token}`\n        },\n        body: formData\n      });\n      if (response.ok) {\n        setNewProduct({\n          title: \"\",\n          description: \"\",\n          price: \"\",\n          product_type: \"TOTEBAG\",\n          available_sizes: \"\",\n          images: []\n        });\n        setPreviewImages([]);\n        setEditingProduct(null);\n        setRemovedImageIds([]);\n        setImageColors({});\n        fetchProducts();\n      } else {\n        const errorData = await response.json();\n        setError(errorData.detail || JSON.stringify(errorData));\n      }\n    } catch (err) {\n      setError(\"Network error or server unavailable.\");\n      console.error(\"Error submitting product:\", err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleEdit = product => {\n    setEditingProduct(product);\n    setNewProduct({\n      title: product.title,\n      description: product.description,\n      price: product.price,\n      product_type: product.product_type,\n      available_sizes: product.available_sizes || \"\",\n      images: []\n    });\n    const existingImagePreviews = product.images.map(img => img.image);\n    setPreviewImages(existingImagePreviews);\n    const existingImageColors = {};\n    product.images.forEach((img, index) => {\n      existingImageColors[index] = img.color || \"\";\n    });\n    setImageColors(existingImageColors);\n    setRemovedImageIds([]);\n  };\n  const handleDelete = async productId => {\n    setShowDeleteModal(false);\n    setIsLoading(true);\n    try {\n      const response = await fetch(`https://aymen88.pythonanywhere.com/api/products/${productId}/`, {\n        method: \"DELETE\",\n        headers: {\n          Authorization: `Token ${token}`\n        }\n      });\n      if (response.ok) {\n        fetchProducts();\n      } else {\n        const errorData = await response.json();\n        setError(errorData.detail || \"Failed to delete product.\");\n      }\n    } catch (err) {\n      setError(\"Network error or server unavailable.\");\n      console.error(\"Error deleting product:\", err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handlePrevImage = productId => {\n    setProducts(prevProducts => prevProducts.map(product => product.id === productId ? {\n      ...product,\n      currentImageIndex: (product.currentImageIndex - 1 + product.images.length) % product.images.length\n    } : product));\n  };\n  const handleNextImage = productId => {\n    setProducts(prevProducts => prevProducts.map(product => product.id === productId ? {\n      ...product,\n      currentImageIndex: (product.currentImageIndex + 1) % product.images.length\n    } : product));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-products\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onLogout,\n      className: \"logout-button\",\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: editingProduct ? \"Edit Product\" : \"Add New Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"product-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"title\",\n          children: \"Title:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"title\",\n          name: \"title\",\n          value: newProduct.title,\n          onChange: handleInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"description\",\n          children: \"Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"description\",\n          name: \"description\",\n          value: newProduct.description,\n          onChange: handleInputChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"price\",\n          children: \"Price:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          id: \"price\",\n          name: \"price\",\n          value: newProduct.price,\n          onChange: handleInputChange,\n          required: true,\n          step: \"0.01\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"product_type\",\n          children: \"Product Type:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"product_type\",\n          name: \"product_type\",\n          value: newProduct.product_type,\n          onChange: handleInputChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"TOTEBAG\",\n            children: \"Totebag\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"TSHIRT\",\n            children: \"T-Shirt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this), newProduct.product_type === \"TSHIRT\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"available_sizes\",\n          children: \"Available Sizes (comma-separated, e.g., S,M,L,XL):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"available_sizes\",\n          name: \"available_sizes\",\n          value: newProduct.available_sizes,\n          onChange: handleInputChange,\n          placeholder: \"e.g., S,M,L,XL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"images\",\n          children: \"Product Images:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          id: \"images\",\n          name: \"images\",\n          multiple: true,\n          onChange: handleFileChange,\n          accept: \"image/*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image-previews\",\n          children: previewImages.map((url, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"preview-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: url,\n              alt: `Preview ${index}`,\n              className: \"preview-thumbnail\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: imageColors[index] || \"\",\n              onChange: e => handleImageColorChange(index, e.target.value),\n              className: \"image-color-selector\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select Color\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"WHITE\",\n                children: \"White\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"BLACK\",\n                children: \"Black\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"RED\",\n                children: \"Red\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"BLUE\",\n                children: \"Blue\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"GREEN\",\n                children: \"Green\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"YELLOW\",\n                children: \"Yellow\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => handleRemovePreviewImage(index),\n              className: \"remove-preview-btn\",\n              children: \"X\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isLoading,\n        children: isLoading ? \"Saving...\" : editingProduct ? \"Update Product\" : \"Add Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 9\n      }, this), editingProduct && /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => {\n          setEditingProduct(null);\n          setNewProduct({\n            title: \"\",\n            description: \"\",\n            price: \"\",\n            product_type: \"TOTEBAG\",\n            available_sizes: \"\",\n            images: []\n          });\n          setPreviewImages([]);\n          setRemovedImageIds([]);\n          setImageColors({});\n        },\n        className: \"cancel-edit-btn\",\n        children: \"Cancel Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Existing Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 9\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading products...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 23\n      }, this), products.length === 0 && !isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No products added yet.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 49\n      }, this), !isLoading && products.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"products-grid\",\n        children: products.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-image-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-image-slider\",\n              children: product.images && product.images.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-image-slide\",\n                style: {\n                  transform: `translateX(-${currentImageIndex[product.id] * 100}%)`\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: product.images[currentImageIndex[product.id]].image,\n                  alt: product.title,\n                  className: \"product-thumbnail\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no-image-placeholder\",\n                children: \"No images\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 19\n            }, this), product.images && product.images.length > 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"carousel-arrow left\",\n                onClick: () => handlePrevImage(product.id),\n                children: \"<\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"carousel-arrow right\",\n                onClick: () => handleNextImage(product.id),\n                children: \">\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"carousel-dots\",\n                children: product.images.map((_, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: `carousel-dot ${index === currentImageIndex[product.id] ? 'active' : ''}`,\n                  onClick: () => setCurrentImageIndex(prev => ({\n                    ...prev,\n                    [product.id]: index\n                  }))\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: product.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"product-price\",\n              children: [\"$\", product.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 19\n            }, this), product.product_type === \"TSHIRT\" && product.available_sizes && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"product-sizes\",\n              children: [\"Sizes: \", product.available_sizes]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"description-btn\",\n              onClick: () => handleShowDescription(product.description),\n              children: \"View Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleEdit(product),\n              className: \"edit-btn\",\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setProductToDelete(product.id);\n                setShowDeleteModal(true);\n              },\n              className: \"delete-btn\",\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 17\n          }, this)]\n        }, product.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 1\n    }, this), showDescriptionPopup && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"description-popup active\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"description-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-popup\",\n          onClick: () => setShowDescriptionPopup(false),\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Product Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"description-text\",\n          children: currentDescription\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 520,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 9\n    }, this), showDeleteModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: \"Confirm Deletion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: \"Are you sure you want to delete this product? This action cannot be undone.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-btn modal-btn-cancel\",\n            onClick: () => setShowDeleteModal(false),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-btn modal-btn-confirm\",\n            onClick: () => handleDelete(productToDelete),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 547,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 288,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminProducts, \"Qq3YWkJukiAmxuxpk4SxyE78PMk=\");\n_c = AdminProducts;\nexport default AdminProducts;\nvar _c;\n$RefreshReg$(_c, \"AdminProducts\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","jsxDEV","_jsxDEV","Fragment","_Fragment","AdminProducts","token","onLogout","_s","products","setProducts","isLoading","setIsLoading","error","setError","newProduct","setNewProduct","title","description","price","product_type","available_sizes","images","previewImages","setPreviewImages","editingProduct","setEditingProduct","removedImageIds","setRemovedImageIds","imageColors","setImageColors","showDeleteModal","setShowDeleteModal","productToDelete","setProductToDelete","fetchProducts","response","fetch","headers","Authorization","data","json","ok","productsWithImageIndex","map","product","currentImageIndex","detail","err","console","forEach","url","startsWith","URL","revokeObjectURL","handleInputChange","e","name","value","target","prev","handleFileChange","files","Array","from","newPreviews","file","createObjectURL","handleRemovePreviewImage","indexToRemove","uploadedImage","find","img","image","id","filter","_","index","newColors","newIndex","currentColorsArray","Object","entries","key","parseInt","color","item","handleImageColorChange","handleSubmit","preventDefault","formData","FormData","append","finalImageColorsArray","idx","isRemovedExistingImage","includes","push","i","method","body","errorData","JSON","stringify","handleEdit","existingImagePreviews","existingImageColors","handleDelete","productId","handlePrevImage","prevProducts","length","handleNextImage","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","onChange","required","step","placeholder","multiple","accept","src","alt","disabled","style","transform","setCurrentImageIndex","handleShowDescription","showDescriptionPopup","setShowDescriptionPopup","currentDescription","_c","$RefreshReg$"],"sources":["/goinfre/aait-our/moroadmin_frontend/src/AdminProducts.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\n\nfunction AdminProducts({ token, onLogout }) {\n  const [products, setProducts] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [newProduct, setNewProduct] = useState({\n    title: \"\",\n    description: \"\",\n    price: \"\",\n    product_type: \"TOTEBAG\",\n    available_sizes: \"\",\n    images: [],\n  });\n  const [previewImages, setPreviewImages] = useState([]);\n  const [editingProduct, setEditingProduct] = useState(null);\n  const [removedImageIds, setRemovedImageIds] = useState([]);\n  const [imageColors, setImageColors] = useState({});\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [productToDelete, setProductToDelete] = useState(null);\n\n  const fetchProducts = useCallback(async () => {\n    setIsLoading(true);\n    try {\n      const response = await fetch(\n        \"https://aymen88.pythonanywhere.com/api/products/\",\n        {\n          headers: {\n            Authorization: `Token ${token}`,\n          },\n        }\n      );\n      const data = await response.json();\n      if (response.ok) {\n        const productsWithImageIndex = data.map(product => ({\n          ...product,\n          currentImageIndex: 0\n        }));\n        setProducts(productsWithImageIndex);\n      } else {\n        setError(data.detail || \"Failed to fetch products.\");\n      }\n    } catch (err) {\n      setError(\"Network error or server unavailable.\");\n      console.error(\"Error fetching products:\", err);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [token]);\n\n  useEffect(() => {\n    fetchProducts();\n  }, [fetchProducts]);\n\n  useEffect(() => {\n    return () => {\n      previewImages.forEach((url) => {\n        if (url.startsWith(\"blob:\")) {\n          URL.revokeObjectURL(url);\n        }\n      });\n    };\n  }, [previewImages]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setNewProduct((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const handleFileChange = (e) => {\n    const files = Array.from(e.target.files);\n    setNewProduct((prev) => ({ ...prev, images: [...prev.images, ...files] }));\n\n    const newPreviews = files.map((file) => URL.createObjectURL(file));\n    setPreviewImages((prev) => [...prev, ...newPreviews]);\n  };\n\n  const handleRemovePreviewImage = (indexToRemove) => {\n    if (\n      editingProduct &&\n      previewImages[indexToRemove] &&\n      !previewImages[indexToRemove].startsWith(\"blob:\")\n    ) {\n      const uploadedImage = editingProduct.images.find(\n        (img) => img.image === previewImages[indexToRemove]\n      );\n      if (uploadedImage) {\n        setRemovedImageIds((prev) => [...prev, uploadedImage.id]);\n      }\n    }\n\n    setPreviewImages((prev) =>\n      prev.filter((_, index) => index !== indexToRemove)\n    );\n    setNewProduct((prev) => ({\n      ...prev,\n      images: prev.images.filter((_, index) => index !== indexToRemove),\n    }));\n\n    setImageColors((prev) => {\n      const newColors = {};\n      let newIndex = 0;\n      const currentColorsArray = Object.entries(prev).map(([key, value]) => ({ index: parseInt(key), color: value }));\n\n      currentColorsArray.forEach((item) => {\n        if (item.index !== indexToRemove) {\n          newColors[newIndex] = item.color;\n          newIndex++;\n        }\n      });\n      return newColors;\n    });\n  };\n\n  const handleImageColorChange = (index, color) => {\n    setImageColors((prev) => ({\n      ...prev,\n      [index]: color,\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n    setIsLoading(true);\n\n    const formData = new FormData();\n    formData.append(\"title\", newProduct.title);\n    formData.append(\"description\", newProduct.description);\n    formData.append(\"price\", newProduct.price);\n    formData.append(\"product_type\", newProduct.product_type);\n\n    if (newProduct.product_type === \"TSHIRT\") {\n      formData.append(\"available_sizes\", newProduct.available_sizes);\n    } else {\n      formData.append(\"available_sizes\", \"\");\n    }\n\n    newProduct.images.forEach((image) => {\n      formData.append(\"uploaded_images\", image);\n    });\n\n    if (editingProduct) {\n      const finalImageColorsArray = [];\n      previewImages.forEach((url, idx) => {\n        let isRemovedExistingImage = false;\n        if (!url.startsWith(\"blob:\")) {\n          const uploadedImage = editingProduct.images.find(img => img.image === url);\n          if (uploadedImage && removedImageIds.includes(uploadedImage.id)) {\n            isRemovedExistingImage = true;\n          }\n        }\n        if (!isRemovedExistingImage) {\n          finalImageColorsArray.push(imageColors[idx] || \"\");\n        }\n      });\n      finalImageColorsArray.forEach(color => {\n        formData.append(\"image_colors\", color);\n      });\n    } else {\n      newProduct.images.forEach((_, i) => {\n        formData.append(\"image_colors\", imageColors[i] || \"\");\n      });\n    }\n\n\n    const url = editingProduct\n      ? `https://aymen88.pythonanywhere.com/api/products/${editingProduct.id}/`\n      : \"https://aymen88.pythonanywhere.com/api/products/\";\n    const method = editingProduct ? \"PUT\" : \"POST\";\n\n    try {\n      const response = await fetch(url, {\n        method: method,\n        headers: {\n          Authorization: `Token ${token}`,\n        },\n        body: formData,\n      });\n\n      if (response.ok) {\n        setNewProduct({\n          title: \"\",\n          description: \"\",\n          price: \"\",\n          product_type: \"TOTEBAG\",\n          available_sizes: \"\",\n          images: [],\n        });\n        setPreviewImages([]);\n        setEditingProduct(null);\n        setRemovedImageIds([]);\n        setImageColors({});\n        fetchProducts();\n      } else {\n        const errorData = await response.json();\n        setError(errorData.detail || JSON.stringify(errorData));\n      }\n    } catch (err) {\n      setError(\"Network error or server unavailable.\");\n      console.error(\"Error submitting product:\", err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleEdit = (product) => {\n    setEditingProduct(product);\n    setNewProduct({\n      title: product.title,\n      description: product.description,\n      price: product.price,\n      product_type: product.product_type,\n      available_sizes: product.available_sizes || \"\",\n      images: [],\n    });\n\n    const existingImagePreviews = product.images.map((img) => img.image);\n    setPreviewImages(existingImagePreviews);\n\n    const existingImageColors = {};\n    product.images.forEach((img, index) => {\n      existingImageColors[index] = img.color || \"\";\n    });\n    setImageColors(existingImageColors);\n    setRemovedImageIds([]);\n  };\n\n  const handleDelete = async (productId) => {\n    setShowDeleteModal(false);\n    setIsLoading(true);\n    try {\n      const response = await fetch(\n        `https://aymen88.pythonanywhere.com/api/products/${productId}/`,\n        {\n          method: \"DELETE\",\n          headers: {\n            Authorization: `Token ${token}`,\n          },\n        }\n      );\n\n      if (response.ok) {\n        fetchProducts();\n      } else {\n        const errorData = await response.json();\n        setError(errorData.detail || \"Failed to delete product.\");\n      }\n    } catch (err) {\n      setError(\"Network error or server unavailable.\");\n      console.error(\"Error deleting product:\", err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handlePrevImage = (productId) => {\n    setProducts(prevProducts =>\n      prevProducts.map(product =>\n        product.id === productId\n          ? {\n              ...product,\n              currentImageIndex:\n                (product.currentImageIndex - 1 + product.images.length) %\n                product.images.length,\n            }\n          : product\n      )\n    );\n  };\n\n  const handleNextImage = (productId) => {\n    setProducts(prevProducts =>\n      prevProducts.map(product =>\n        product.id === productId\n          ? {\n              ...product,\n              currentImageIndex:\n                (product.currentImageIndex + 1) % product.images.length,\n            }\n          : product\n      )\n    );\n  };\n\n\n  return (\n    <div className=\"admin-products\">\n      <button onClick={onLogout} className=\"logout-button\">\n        Logout\n      </button>\n      <h2>{editingProduct ? \"Edit Product\" : \"Add New Product\"}</h2>\n      {error && <div className=\"error-message\">{error}</div>}\n      <form onSubmit={handleSubmit} className=\"product-form\">\n        <div className=\"form-group\">\n          <label htmlFor=\"title\">Title:</label>\n          <input\n            type=\"text\"\n            id=\"title\"\n            name=\"title\"\n            value={newProduct.title}\n            onChange={handleInputChange}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"description\">Description:</label>\n          <textarea\n            id=\"description\"\n            name=\"description\"\n            value={newProduct.description}\n            onChange={handleInputChange}\n            required\n          ></textarea>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"price\">Price:</label>\n          <input\n            type=\"number\"\n            id=\"price\"\n            name=\"price\"\n            value={newProduct.price}\n            onChange={handleInputChange}\n            required\n            step=\"0.01\"\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"product_type\">Product Type:</label>\n          <select\n            id=\"product_type\"\n            name=\"product_type\"\n            value={newProduct.product_type}\n            onChange={handleInputChange}\n          >\n            <option value=\"TOTEBAG\">Totebag</option>\n            <option value=\"TSHIRT\">T-Shirt</option>\n          </select>\n        </div>\n\n        {newProduct.product_type === \"TSHIRT\" && (\n          <div className=\"form-group\">\n            <label htmlFor=\"available_sizes\">\n              Available Sizes (comma-separated, e.g., S,M,L,XL):\n            </label>\n            <input\n              type=\"text\"\n              id=\"available_sizes\"\n              name=\"available_sizes\"\n              value={newProduct.available_sizes}\n              onChange={handleInputChange}\n              placeholder=\"e.g., S,M,L,XL\"\n            />\n          </div>\n        )}\n\n        <div className=\"form-group\">\n          <label htmlFor=\"images\">Product Images:</label>\n          <input\n            type=\"file\"\n            id=\"images\"\n            name=\"images\"\n            multiple\n            onChange={handleFileChange}\n            accept=\"image/*\"\n          />\n          <div className=\"image-previews\">\n            {previewImages.map((url, index) => (\n              <div key={index} className=\"preview-container\">\n                <img\n                  src={url}\n                  alt={`Preview ${index}`}\n                  className=\"preview-thumbnail\"\n                />\n                <select\n                  value={imageColors[index] || \"\"}\n                  onChange={(e) =>\n                    handleImageColorChange(index, e.target.value)\n                  }\n                  className=\"image-color-selector\"\n                >\n                  <option value=\"\">Select Color</option>\n                  <option value=\"WHITE\">White</option>\n                  <option value=\"BLACK\">Black</option>\n                  <option value=\"RED\">Red</option>\n                  <option value=\"BLUE\">Blue</option>\n                  <option value=\"GREEN\">Green</option>\n                  <option value=\"YELLOW\">Yellow</option>\n                </select>\n                <button\n                  type=\"button\"\n                  onClick={() => handleRemovePreviewImage(index)}\n                  className=\"remove-preview-btn\"\n                >\n                  X\n                </button>\n              </div>\n            ))}\n          </div>\n        </div>\n        <button type=\"submit\" disabled={isLoading}>\n          {isLoading\n            ? \"Saving...\"\n            : editingProduct\n            ? \"Update Product\"\n            : \"Add Product\"}\n        </button>\n        {editingProduct && (\n          <button\n            type=\"button\"\n            onClick={() => {\n              setEditingProduct(null);\n              setNewProduct({\n                title: \"\",\n                description: \"\",\n                price: \"\",\n                product_type: \"TOTEBAG\",\n                available_sizes: \"\",\n                images: [],\n              });\n              setPreviewImages([]);\n              setRemovedImageIds([]);\n              setImageColors({});\n            }}\n            className=\"cancel-edit-btn\"\n          >\n            Cancel Edit\n          </button>\n        )}\n      </form>\n\n<div className=\"product-list\">\n        <h3>Existing Products</h3>\n        {isLoading && <p>Loading products...</p>}\n        {products.length === 0 && !isLoading && <p>No products added yet.</p>}\n        {!isLoading && products.length > 0 && (\n          <div className=\"products-grid\">\n            {products.map((product) => (\n              <div key={product.id} className=\"product-card\">\n                <div className=\"product-image-container\">\n                  <div className=\"product-image-slider\">\n                    {product.images && product.images.length > 0 ? (\n                      <div className=\"product-image-slide\" style={{\n                        transform: `translateX(-${currentImageIndex[product.id] * 100}%)`\n                      }}>\n                        <img\n                          src={product.images[currentImageIndex[product.id]].image}\n                          alt={product.title}\n                          className=\"product-thumbnail\"\n                        />\n                      </div>\n                    ) : (\n                      <div className=\"no-image-placeholder\">No images</div>\n                    )}\n                  </div>\n                  {product.images && product.images.length > 1 && (\n                    <>\n                      <button\n                        className=\"carousel-arrow left\"\n                        onClick={() => handlePrevImage(product.id)}\n                      >\n                        &lt;\n                      </button>\n                      <button\n                        className=\"carousel-arrow right\"\n                        onClick={() => handleNextImage(product.id)}\n                      >\n                        &gt;\n                      </button>\n                      <div className=\"carousel-dots\">\n                        {product.images.map((_, index) => (\n                          <button\n                            key={index}\n                            className={`carousel-dot ${index === currentImageIndex[product.id] ? 'active' : ''}`}\n                            onClick={() => setCurrentImageIndex(prev => ({\n                              ...prev,\n                              [product.id]: index\n                            }))}\n                          />\n                        ))}\n                      </div>\n                    </>\n                  )}\n                </div>\n                <div className=\"product-info\">\n                  <h4>{product.title}</h4>\n                  <p className=\"product-price\">${product.price}</p>\n                  {product.product_type === \"TSHIRT\" && product.available_sizes && (\n                    <p className=\"product-sizes\">Sizes: {product.available_sizes}</p>\n                  )}\n                  <button\n                    className=\"description-btn\"\n                    onClick={() => handleShowDescription(product.description)}\n                  >\n                    View Description\n                  </button>\n                </div>\n                <div className=\"product-actions\">\n                  <button onClick={() => handleEdit(product)} className=\"edit-btn\">\n                    Edit\n                  </button>\n                  <button\n                    onClick={() => {\n                      setProductToDelete(product.id);\n                      setShowDeleteModal(true);\n                    }}\n                    className=\"delete-btn\"\n                  >\n                    Delete\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {showDescriptionPopup && (\n        <div className=\"description-popup active\">\n          <div className=\"description-content\">\n            <button\n              className=\"close-popup\"\n              onClick={() => setShowDescriptionPopup(false)}\n            >\n              &times;\n            </button>\n            <h3>Product Description</h3>\n            <div className=\"description-text\">{currentDescription}</div>\n          </div>\n        </div>\n      )}\n\n      {showDeleteModal && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">Confirm Deletion</div>\n            <div className=\"modal-body\">\n              Are you sure you want to delete this product? This action cannot be undone.\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                className=\"modal-btn modal-btn-cancel\"\n                onClick={() => setShowDeleteModal(false)}\n              >\n                Cancel\n              </button>\n              <button\n                className=\"modal-btn modal-btn-confirm\"\n                onClick={() => handleDelete(productToDelete)}\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default AdminProducts;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}